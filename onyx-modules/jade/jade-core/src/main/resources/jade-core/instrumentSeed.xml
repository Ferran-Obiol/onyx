<?xml version="1.0" encoding="ISO-8859-1"?>
<linked-list>

  <!-- Instrument types -->
  <instrumentType id="sta">
    <name>STA</name>
    <description>Height measurement</description>

    <dependentTypes>
      <instrumentType reference="bim" />
      <instrumentType reference="spi" />
    </dependentTypes>

  </instrumentType>

  <instrumentType id="bim">
    <name>BIM</name>
    <description>Bioimpedance measurement</description>

    <dependsOnTypes>
      <instrumentType reference="sta" />
    </dependsOnTypes>

    <dependentTypes>
      <instrumentType reference="spi" />
    </dependentTypes>

  </instrumentType>

  <instrumentType id="spi">
    <name>SPI</name>
    <description>Spirometry measurement</description>

    <dependsOnTypes>
      <instrumentType reference="sta" />
      <instrumentType reference="bim" />
    </dependsOnTypes>

  </instrumentType>
  
  <instrumentType id="ecg">
    <name>ECG</name>
    <description>Electrocardiogram measurement</description>
  </instrumentType>

  <!-- Instruments -->
  <!-- STA1 -->
  <instrument id="sta1">
    <name>Tape 1</name>
    <vendor>Seca</vendor>
    <model>Model 214</model>
    <serialNumber>1234567890</serialNumber>
    <barcode>sta01</barcode>
    <status>ACTIVE</status>
    <instrumentType reference="sta" />
  </instrument>

  <output id="sta1_height1">
    <name>Height 1</name>
    <description>First height measurement</description>
    <measurementUnit>cm</measurementUnit>
    <dataType>INTEGER</dataType>
    <captureMethod>MANUAL</captureMethod>
    <instrument reference="sta1" />
  </output>
  <output id="sta1_height2">
    <name>Height 2</name>
    <description>Second height measurement</description>
    <measurementUnit>cm</measurementUnit>
    <dataType>INTEGER</dataType>
    <captureMethod>MANUAL</captureMethod>
    <instrument reference="sta1" />
  </output>
  <computedOutput>
    <name>Height</name>
    <description>Height measurement</description>
    <measurementUnit>cm</measurementUnit>
    <dataType>INTEGER</dataType>
    <instrument reference="sta1" />
    <algorithm>AVERAGE</algorithm>
    <captureMethod>AUTOMATIC</captureMethod>
    <outputs>
      <output reference="sta1_height1" />
      <output reference="sta1_height2" />
    </outputs>
  </computedOutput>

  <!-- STA2 -->
  <instrument id="sta2">
    <name>Tape 2</name>
    <vendor>Seca</vendor>
    <model>Model 214</model>
    <serialNumber>0987654321</serialNumber>
    <barcode>sta02</barcode>
    <status>ACTIVE</status>
    <instrumentType reference="sta" />
  </instrument>

  <output id="sta2_height1">
    <name>Height 1</name>
    <description>First height measurement</description>
    <measurementUnit>cm</measurementUnit>
    <dataType>INTEGER</dataType>
    <captureMethod>MANUAL</captureMethod>
    <instrument reference="sta2" />
  </output>
  <output id="sta2_height2">
    <name>Height 2</name>
    <description>Second height measurement</description>
    <measurementUnit>cm</measurementUnit>
    <dataType>INTEGER</dataType>
    <captureMethod>MANUAL</captureMethod>
    <instrument reference="sta2" />
  </output>
  <computedOutput>
    <name>Height</name>
    <description>Height measurement</description>
    <measurementUnit>cm</measurementUnit>
    <dataType>INTEGER</dataType>
    <captureMethod>AUTOMATIC</captureMethod>
    <instrument reference="sta2" />
    <algorithm>AVERAGE</algorithm>
    <outputs>
      <output reference="sta2_height1" />
      <output reference="sta2_height2" />
    </outputs>
  </computedOutput>

  <!-- BIOIMP1 -->
  <instrument id="bioimp1">
    <name>BioImp 1</name>
    <vendor>Tanita</vendor>
    <model>TBF 310</model>
    <status>ACTIVE</status>
    <codeBase>interface-bioimpedance-zip</codeBase>
    <instrumentType reference="bim" />
  </instrument>

  <input id="bioimp1_height">
    <name>Height</name>
    <description>Measured height</description>
    <measurementUnit>cm</measurementUnit>
    <dataType>INTEGER</dataType>
    <captureMethod>AUTOMATIC</captureMethod>
    <inputSource reference="measured_height" />
  </input>

  <outputParameterSource id="measured_height">
    <instrumentType reference="sta" />
    <parameterName>Height</parameterName>
    <instrumentInputParameters>
      <input reference="bioimp1_height" />
    </instrumentInputParameters>
  </outputParameterSource>
  
  <!-- ECG1 -->
  <instrument id="ecg1">
    <name>ECG 1</name>
    <vendor>GE</vendor>
    <model>CardioSoft</model>
    <status>ACTIVE</status>
    <codeBase>interface-ecg-zip</codeBase>
    <instrumentType reference="ecg" />
  </instrument>

</linked-list>