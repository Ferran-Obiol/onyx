<?xml version="1.0" encoding="ISO-8859-1"?>
<linked-list>

  <!-- Stage Dependencies -->
  <stageDependencyCondition id="con_dependency" class="org.obiba.onyx.engine.ConsentStageDependencyCondition">
    <stageName>CON</stageName>
  </stageDependencyCondition>
  <stageDependencyCondition id="sta_dependency" class="org.obiba.onyx.engine.PreviousStageDependencyCondition">
    <stageName>STA</stageName>
  </stageDependencyCondition>
  <stageDependencyCondition id="bim_dependency_ex" class="org.obiba.onyx.engine.ExclusiveStageDependencyCondition">
    <stageName>BIM</stageName>
  </stageDependencyCondition>
  <stageDependencyCondition id="bim_dependency" class="org.obiba.onyx.engine.PreviousStageDependencyCondition">
    <stageName>BIM</stageName>
  </stageDependencyCondition>
  <stageDependencyCondition id="wei_dependency" class="org.obiba.onyx.engine.PreviousStageDependencyCondition">
    <stageName>WEI</stageName>
  </stageDependencyCondition>
  
  <stageDependencyCondition id="spi_mul_dependency_1" class="org.obiba.onyx.engine.MultipleStageDependencyCondition">
    <leftStageDependencyCondition reference="bim_dependency"/>
    <operator>OR</operator>
    <rightStageDependencyCondition reference="wei_dependency"/>
  </stageDependencyCondition>
  
  <stageDependencyCondition id="spi_mul_dependency_2" class="org.obiba.onyx.engine.MultipleStageDependencyCondition">
    <leftStageDependencyCondition reference="sta_dependency"/>
    <operator>AND</operator>
    <rightStageDependencyCondition reference="spi_mul_dependency_1"/>
  </stageDependencyCondition>
  
  <!-- Stages -->
  <stage id="con">
    <name>CON</name>
    <description>Participant_Consent</description>
    <module>marble</module>
    <displayOrder>1</displayOrder>
  </stage>
  
  <stage id="sta">
    <name>STA</name>
    <description>Height_Measurement</description>
    <module>jade</module>
    <displayOrder>2</displayOrder>
    <stageDependencyCondition reference="con_dependency"/>
  </stage>
  
  <stage id="sit">
    <name>SIT</name>
    <description>Sitting_Height_Measurement</description>
    <module>jade</module>
    <displayOrder>3</displayOrder>
    <stageDependencyCondition reference="con_dependency"/>
  </stage>
  
  <stage id="hwc">
    <name>HWC</name>
    <description>Hips_and_Waist_Size_Measurement</description>
    <module>jade</module>
    <displayOrder>4</displayOrder>  
    <stageDependencyCondition reference="con_dependency"/>
  </stage>
  
  <stage id="mus">
    <name>MUS</name>
    <description>Grip_Strength_Measurement</description>
    <module>jade</module>
    <displayOrder>5</displayOrder>
    <stageDependencyCondition reference="con_dependency"/>
  </stage>
  
  <stage id="bim">
    <name>BIM</name>
    <description>Weight_and_Bioimpedance_Measurement</description>
    <module>jade</module>
    <displayOrder>6</displayOrder>
    <stageDependencyCondition class="org.obiba.onyx.engine.MultipleStageDependencyCondition">
      <leftStageDependencyCondition reference="con_dependency"/>
      <operator>AND</operator>
      <rightStageDependencyCondition reference="sta_dependency"/>
    </stageDependencyCondition>
  </stage>

  <stage id="wei">
    <name>WEI</name>
    <description>Weight_Measurement</description>
    <module>jade</module>
    <displayOrder>7</displayOrder>
    <stageDependencyCondition class="org.obiba.onyx.engine.MultipleStageDependencyCondition">
      <leftStageDependencyCondition reference="con_dependency"/>
      <operator>AND</operator>
      <rightStageDependencyCondition reference="bim_dependency_ex"/>
    </stageDependencyCondition>
  </stage>

  <stage id="spi">
    <name>SPI</name>
    <description>Spirometry_Measurement</description>
    <module>jade</module>
    <displayOrder>8</displayOrder>
    <stageDependencyCondition class="org.obiba.onyx.engine.MultipleStageDependencyCondition">
      <leftStageDependencyCondition reference="con_dependency"/>
      <operator>AND</operator>
      <rightStageDependencyCondition reference="spi_mul_dependency_2"/>
    </stageDependencyCondition>
  </stage>

  <stage id="ecg">
    <name>ECG</name>
    <description>Electrocardiogram_Measurement</description>
    <module>jade</module>
    <displayOrder>9</displayOrder>
    <stageDependencyCondition reference="con_dependency"/>
  </stage>
  
  <stage id="bon">
    <name>BON</name>
    <description>Bone_Density_Measurement</description>
    <module>jade</module>
    <displayOrder>10</displayOrder>
    <stageDependencyCondition reference="con_dependency"/>
  </stage>  
    
  <stage id="art">
    <name>ART</name>
    <description>Arterial_Stiffness_Measurement</description>
    <module>jade</module>
    <displayOrder>11</displayOrder>
    <stageDependencyCondition reference="con_dependency"/>
  </stage>
  
</linked-list>