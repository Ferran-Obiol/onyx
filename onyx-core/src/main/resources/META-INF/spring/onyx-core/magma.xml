<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd" default-autowire="no">

  <bean id="metaEngine" class="org.obiba.magma.spring.MagmaEngineFactoryBean">
    <property name="extensions">
      <set>
        <bean class="org.obiba.magma.js.MagmaJsExtension" />
        <bean class="org.obiba.magma.xstream.MagmaXStreamExtension" />
      </set>
    </property>
  </bean>

  <bean class="org.obiba.magma.spring.DatasourceRegistratingFactoryBean">
    <property name="datasources">
      <set>
        <bean class="org.obiba.magma.spring.SpringContextScanningDatasource">
          <property name="name" value="${org.obiba.onyx.collection.name}" />
        </bean>
      </set>
    </property>
  </bean>

  <bean id="onyxAttributeHelper" class="org.obiba.onyx.magma.OnyxAttributeHelper" />

  <bean class="org.obiba.onyx.magma.OnyxParticipantValueTableFactoryBean">
    <property name="name" value="Participants" />
    <property name="variableEntityProvider">
      <bean class="org.obiba.onyx.magma.HibernateBeanVariableEntityProvider">
        <constructor-arg index="0" value="Participant" />
        <constructor-arg index="1" value="participant.barcode" />
        <property name="entityClass" value="org.obiba.onyx.core.domain.participant.Interview" />
      </bean>
    </property>
  </bean>

  <bean class="org.obiba.onyx.magma.OnyxAdminVariableValueSourceFactory"/>
  <bean class="org.obiba.onyx.magma.OnyxAdminValueSetBeanResolver"/>

</beans>
